name: Chocolatine

on:
    push:
      branches-ignore:
        - "ga-ignore-*"
    pull_request:
      branches-ignore:
        - "ga-ignore-*"
env:
  MIRROR_URL: git@github.com:EpitechPromo2027/B-MAT-100-COT-1-1-103cipher-horace.kougbla.git
  EXECUTABLES: 103cipher

jobs:
      check_compilation:
      runs-on: ubuntu-latest
      container: epitechcontent/epitest-docker
      needs: [check_coding_style]
      steps:
        - name: make_test
          uses: actions/checkout@v3
        - run:  make
          timeout-minutes: 2
        - run: |
                if [[ -e $EXECUTABLES ]] && [[ -x $EXECUTABLES ]]
                then
                  exit 0
                else
                  exit 1
                fi
        - name: make_clean
          uses: actions/checkout@v3
        - run: make clean
